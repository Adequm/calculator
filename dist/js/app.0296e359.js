(function(e){function t(t){for(var s,r,a=t[0],c=t[1],o=t[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,o||[]),_()}function _(){for(var e,t=0;t<i.length;t++){for(var _=i[t],s=!0,a=1;a<_.length;a++){var c=_[a];0!==n[c]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=_[0]))}return e}var s={},n={app:0},i=[];function r(t){if(s[t])return s[t].exports;var _=s[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,r),_.l=!0,_.exports}r.m=e,r.c=s,r.d=function(e,t,_){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(r.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(_,s,function(t){return e[t]}.bind(null,s));return _},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/calculator/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var u=c;i.push([0,"chunk-vendors"]),_()})({0:function(e,t,_){e.exports=_("56d7")},"1c76":function(e,t,_){"use strict";_("21de")},"21de":function(e,t,_){},"56d7":function(e,t,_){"use strict";_.r(t);_("e260"),_("e6cf"),_("cca6"),_("a79d");var s=_("2b0e"),n=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"container",style:{height:e.innerHeight+"px"}},[e.isPageLoad?_("Calculator",{attrs:{history:e.history,themeIcon:e.themeData.icon,minisLang:e.minisLang},on:{switchTheme:e.switchTheme,switchLang:e.switchLang,addToHistory:e.addToHistory,clearHistory:e.clearHistory}}):_("Icon",{staticClass:"loader",attrs:{type:"loader",rotate:""}})],1)},i=[],r=_("5530"),a=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"wrapper"},[_("div",{ref:"calculator",staticClass:"calculator"},[_("div",{staticClass:"theme",class:{isClosedSettings:e.isClosedSettings}},[_("Icon",{attrs:{type:"settings"},on:{click:function(t){e.isClosedSettings=!e.isClosedSettings}}}),_("Icon",{attrs:{type:e.themeIcon},on:{click:function(t){return e.$emit("switchTheme")}}}),_("Icon",{attrs:{type:"globe"},on:{click:function(t){return e.$emit("switchLang")}}})],1),_("div",{staticClass:"calculator__display"},[_("div",{ref:"calculator__history",staticClass:"calculator__history"},[_("div",{staticClass:"calculator__history_container"},e._l(e.history,(function(t,s){var n=t[0],i=t[1];return _("span",{key:s+"|"+e.value,domProps:{textContent:e._s(e.getHistoryPoint(n,i,s))},on:{click:function(t){e.value=n}}})})),0)]),_("div",{ref:"calculator__current",staticClass:"calculator__current",class:{equal:e.historyLast==e.value},style:{opacity:e.value.length?"1":".25",fontSize:e.fontSize+"em"},attrs:{"data-brackets":e.endsBrackets},domProps:{textContent:e._s(e.extendedValue||0)}})]),_("div",{staticClass:"calculator__buttons"},[_("div",{staticClass:"calculator__wrap-row"},[_("div",{staticClass:"calculator__button",on:{click:e.clear}},[e._v("AC")]),_("div",{staticClass:"calculator__button",on:{click:function(t){return e.historyBack()}}},[_("Icon",{attrs:{type:"delete"}})],1),_("div",{staticClass:"calculator__button",on:{click:function(t){return e.percent()}}},[_("Icon",{attrs:{type:"percent"}})],1)]),_("div",{staticClass:"calculator__wrap-column"},e._l(e.signs,(function(t,s){return _("div",{key:t,staticClass:"calculator__button",on:{click:function(_){return e.addSign(t)}}},[_("Icon",{attrs:{type:s}})],1)})),0),e._l([7,8,9,4,5,6,1,2,3],(function(t){return _("div",{key:"num_"+t,staticClass:"calculator__button",domProps:{textContent:e._s(t)},on:{click:function(_){e.addSign(t.toString())}}})})),_("div",{staticClass:"calculator__button",on:{click:e.addDot}},[e._v(".")]),_("div",{staticClass:"calculator__button",on:{click:function(t){return e.addSign("0")}}},[e._v("0")]),_("div",{staticClass:"calculator__button",on:{click:e.plusMinus}},[e._v("±")]),_("div",{staticClass:"calculator__button calculator__button-equal",on:{click:e.equal}})],2)]),_("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[e._v("Minis")])])},c=[],o=_("a97d"),u=o["a"],l=(_("85cf"),_("2877")),d=Object(l["a"])(u,a,c,!1,null,null,null),h=d.exports,f=_("cdae"),p=_("1da1"),m=_("3835"),v=(_("96cf"),_("07ac"),_("d3b7"),_("159b"),_("4fad"),_("2f62")),E={name:"App",data:function(){return{isPageLoad:!1}},watch:{translateList:{deep:!0,immediate:!0,handler:function(e){Object.values(e).length&&(document.title=this.translate("title"))}},themeData:{deep:!0,handler:function(e){if(!e)return this.switchTheme();Object.entries(e.properties).forEach((function(e){var t=Object(m["a"])(e,2),_=t[0],s=t[1];document.body.style.setProperty("--".concat(_),s)}))}}},computed:Object(r["a"])(Object(r["a"])({},Object(v["b"])(["translate","translateList","themeData"])),Object(v["d"])({minisTheme:function(e){return e.minis.minisTheme},minisLang:function(e){return e.minis.minisLang}})),methods:Object(r["a"])({},Object(v["c"])({switchTheme:function(e,t){return e("switchTheme",t)},switchLang:function(e,t){return e("switchLang",t)},initMinis:function(e,t){return e("initMinis",t)}})),beforeCreate:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var _,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,_="https://adequm.github.io/minis",t.next=4,fetch("".concat(_,"/translate.json")).then((function(e){return e.json()}));case 4:return s=t.sent,t.next=7,fetch("".concat(_,"/minisList.json")).then((function(e){return e.json()}));case 7:return n=t.sent,t.next=10,fetch("".concat(_,"/themesList.json")).then((function(e){return e.json()}));case 10:i=t.sent,e.initMinis({translate:s,minisList:n,themesList:i}),t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](0);case 16:e.isPageLoad=!0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}},g={name:"App",components:{Calculator:h,Icon:f["a"]},mixins:[E],data:function(){return{innerHeight:null}},computed:Object(r["a"])({},Object(v["d"])(["history"])),methods:Object(r["a"])({},Object(v["c"])(["addToHistory","clearHistory"])),beforeMount:function(){var e=this;this.innerHeight=innerHeight,window.addEventListener("resize",(function(t){e.innerHeight=innerHeight}))}},j=g,b=(_("5c0b"),Object(l["a"])(j,n,i,!1,null,null,null)),O=b.exports,P=_("9483");Object(P["a"])("".concat("/calculator/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});_("99af"),_("fb6a"),_("ac1f"),_("1276");var y=_("0e44"),M=_("0759"),D=_.n(M),k=_("8468"),w=(_("b64b"),{state:function(){return{minisLang:"ru",minisTheme:"dark",themesList:{},translate:{},minisList:{}}}});w.getters={translateList:function(e){var t,_=e.translate,s=e.minisLang;return(null===_||void 0===_||null===(t=_[s])||void 0===t?void 0:t.calculator)||{}},translate:function(e,t){Object(k["a"])(e);var _=t.translateList;return function(e){return(null===_||void 0===_?void 0:_[e])||"Err"}},themeData:function(e){var t=e.themesList,_=e.minisTheme;return t[_]}},w.mutations={switchTheme:function(e){var t=Object.keys(e.themesList),_=t.indexOf(e.minisTheme),n=(_+1)%t.length;s["a"].set(e,"minisTheme",t[n])},switchLang:function(e){var t=Object.keys(e.translate),_=t.indexOf(e.minisLang),n=(_+1)%t.length;s["a"].set(e,"minisLang",t[n])},initMinis:function(e,t){var _=t.translate,n=t.minisList,i=t.themesList;s["a"].set(e,"minisList",n),s["a"].set(e,"translate",_),s["a"].set(e,"themesList",i)}};var C=w,L={};s["a"].use(v["a"]),L.state=function(){return{history:[]}},L.mutations={addToHistory:function(e,t){var _=e.history.slice(-9).concat([t]);s["a"].set(e,"history",_)},clearHistory:function(e){s["a"].set(e,"history",[])}};var T=["minis.minisTheme","minis.minisLang"],I=["history"],W="minis-".concat(location.pathname.split("/")[1]);L.modules={minis:C},L.plugins=[D()({predicate:function(){return[].concat(T,I)}}),Object(y["a"])({paths:T,key:"minis"}),Object(y["a"])({paths:I,key:W})];var B=new v["a"].Store(L);s["a"].config.productionTip=!1,new s["a"]({store:B,render:function(e){return e(O)}}).$mount("#app")},"5c0b":function(e,t,_){"use strict";_("9c0c")},"85cf":function(e,t,_){"use strict";_("a88a")},"9c0c":function(e,t,_){},a88a:function(e,t,_){},a97d:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cb29"),core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_fill_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8a79"),core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("2ca0"),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_14__),_Icon__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("cdae");__webpack_exports__["a"]={name:"Calculator",components:{Icon:_Icon__WEBPACK_IMPORTED_MODULE_15__["a"]},props:{history:Array,themeIcon:String,minisLang:String},data:function(){return{value:"",fontSize:1,limit:30,isClosedSettings:!0,signs:{divide:"/",x:"*",minus:"-",plus:"+"}}},watch:{value:function(e){this.changeFontSize(),e.length<=this.limit||(this.value=this.value.slice(0,this.limit))}},computed:{historyLast:function(){var e=this.history.slice(-1)[0];return e&&e[1]},extendedValue:function(){return this.value.replace(/\+/g," + ").replace(/\-/g," - ").replace(/\*/g," * ").replace(/\//g," / ")},brackets:function(){var e=this.value.match(/\(/g)||[],t=this.value.match(/\)/g)||[],_=e.length,s=t.length;return{starts:_,ends:s,isClosed:_===s}},endsBrackets:function(){var e=this.brackets,t=e.starts,_=e.ends;return new Array(t-_).fill(")").join("")}},methods:{checkFontSize:function(){var e=this.$refs.calculator,t=this.$refs.calculator__current;return e.clientWidth-t.clientWidth-50},changeFontSize:function(e){var t=this;this.$nextTick((function(){var e=t.checkFontSize();if(e<=0){if(t.fontSize<=.1)return;t.fontSize=+(t.fontSize-.1).toFixed(1),t.changeFontSize()}else if(e>100){if(t.fontSize>=1)return;t.fontSize=+(t.fontSize+.1).toFixed(1),t.changeFontSize()}}))},getHistoryPoint:function(e,t,_){return this.historyLast==this.value&&_==this.history.length-1?e:"".concat(e," = ").concat(t)},addSign:function(e){"Ошибка"==this.value&&(this.value="");var t=!isNaN(+e),_=!this.value,s="-"==e,n=!!/(\/|\*|\+)/.exec(e),i=!!/\d+\.\d+$/.exec(this.value),r=!!/(\/|\*|\+|\-)$/.exec(this.value),a=this.value.endsWith("("),c=this.value.endsWith(")"),o=!!/\d$/.exec(this.value),u=this.value.endsWith(".");if("("==e&&(o||c)&&(this.value+="*"),(!t||!c)&&(!this.brackets.isClosed||")"!=e)&&(!_&&!a||!n)&&(!this.value.endsWith("0")||!t||i)&&(!s||!this.value.endsWith("-"))&&(t||!u)){if(!_&&r&&n){if("-"==this.value)return;return this.historyBack(),this.addSign(e)}this.value+=e}},addDot:function(){"Ошибка"==this.value&&(this.value="");var e=this.value.split(/(\/|\*|\+|\-)/g).slice(-1)[0];e||(this.value+="0"),e.includes(".")||(this.value+=".")},plusMinus:function(){"Ошибка"==this.value&&(this.value=""),this.value||(this.value+="0"),this.value=this.value.startsWith("-")?this.value.slice(1):"-".concat(this.value)},percent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=this.value.toString().replace(/^\d*(\.|)/,"").length;this.value&&"Ошибка"!=this.value&&(this.limit<=t+e||/\d$/.exec(this.value)&&(this.value=(parseFloat(this.value)/Math.pow(10,e)).toFixed(t+e)))},clear:function(){this.value="",this.$emit("clearHistory")},historyBack:function(e){"Ошибка"!=this.value?this.value=e?"":this.value.slice(0,-1):this.value=""},equal:function equal(){if("Ошибка"!=this.value&&(this.value=this.value.replace(/(\-|\+|\*|\/|\.|\()*$/,""),this.value)){this.value+=this.endsBrackets;var equation=this.value.match(/\d|\.|\-|\+|\*|\/|\(|\)/g).join(""),answer=parseFloat(eval(equation).toFixed(10));equation.replace(/(\(|\))/g,"")!=answer&&(answer.toString().endsWith("Infinity")||isNaN(answer)?this.value="Ошибка":(this.value=answer.toString(),this.$refs.calculator__history.scrollTop=1e3,this.$emit("addToHistory",[equation,answer])))}},keydown:function(e){var t=e.key,_=e.shiftKey;switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":case"*":case"/":case"(":case")":this.addSign(t);break;case".":case",":this.addDot();break;case"%":this.percent();break;case"Backspace":this.historyBack(_);break;case"Enter":this.equal();break;case"Escape":this.isClosedSettings=!this.isClosedSettings;break}}},beforeMount:function(){document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}}},cdae:function(e,t,_){"use strict";var s=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("svg",{class:{rotate:e.rotate},attrs:{width:e.size||e.width,height:e.size||e.height,fill:"none",stroke:e.color,"stroke-width":e.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"},on:{click:function(t){return e.$emit("click",t)}}},[_("use",{attrs:{href:"./feather-sprite.svg#"+e.type}})])},n=[],i=(_("a9e3"),{name:"Icon",props:{type:String,size:Number,width:{type:Number,default:24},height:{type:Number,default:24},strokeWidth:{type:Number,default:2},rotate:{type:Boolean,default:!1},color:{type:String,default:"currentColor"}}}),r=i,a=(_("1c76"),_("2877")),c=Object(a["a"])(r,s,n,!1,null,"13f5bd86",null);t["a"]=c.exports}});
//# sourceMappingURL=app.0296e359.js.map